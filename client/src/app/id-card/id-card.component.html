<div class="id-card-container">
    <div class="section-header">
        <h2 class="title">Employee ID Card</h2>
        <p class="subtitle">Professional identification badge</p>
    </div>

    <div class="id-card-wrapper" id="idCard">
        <div class="front" *ngIf="isFrontActive()" #frontCard>
            <div class="card-header">
                <div class="brand-section">
                    <img class="company-logo" src="assets/logo.png" alt="Company Logo">
                    <div class="brand-text">
                        <span class="company-name">{{ data.organization || 'ORGANIZATION' }}</span>
                        <span class="card-type">EMPLOYEE ID</span>
                    </div>
                </div>
            </div>

            <div class="profile-container">
                <div class="profile-image-wrapper">
                    <img class="profile-image" *ngIf="data.profile" [src]="data.profile" alt="Employee Photo">
                    <div class="profile-placeholder" *ngIf="!data.profile">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="employee-info">
                <h3 class="employee-name">{{ data.fullName || 'Full Name' }}</h3>
                <p class="employee-role">{{ data.role || 'Job Title' }}</p>
                <div class="employee-id">
                    <span class="id-label">ID:</span>
                    <span class="id-number">{{ data.emp_id || '000000' }}</span>
                </div>
            </div>

            <div class="card-footer">
                <div class="security-features">
                    <div class="hologram-effect"></div>
                    <div class="validity-text">Valid Until: Dec 2025</div>
                </div>
            </div>
        </div>
        <div class="back" *ngIf="isBackActive()" #backCard>
            <div class="back-header">
                <h4 class="back-title">Employee Details</h4>
                <div class="back-accent"></div>
            </div>

            <div class="details-grid">
                <div class="detail-item">
                    <span class="detail-icon">üè¢</span>
                    <div class="detail-content">
                        <span class="detail-label">Organization</span>
                        <span class="detail-value">{{ data.organization || 'Company Name' }}</span>
                    </div>
                </div>

                <div class="detail-item">
                    <span class="detail-icon">üÜî</span>
                    <div class="detail-content">
                        <span class="detail-label">Employee ID</span>
                        <span class="detail-value">{{ data.emp_id || '000000' }}</span>
                    </div>
                </div>

                <div class="detail-item">
                    <span class="detail-icon">üìû</span>
                    <div class="detail-content">
                        <span class="detail-label">Phone</span>
                        <span class="detail-value">{{ data.phone || '+1 (000) 000-0000' }}</span>
                    </div>
                </div>

                <div class="detail-item">
                    <span class="detail-icon">üìÖ</span>
                    <div class="detail-content">
                        <span class="detail-label">Join Date</span>
                        <span class="detail-value">{{ data.joinDate || 'Jan 01, 2024' }}</span>
                    </div>
                </div>

                <div class="detail-item">
                    <span class="detail-icon">üè∑Ô∏è</span>
                    <div class="detail-content">
                        <span class="detail-label">Department</span>
                        <span class="detail-value">{{ data.department || 'General' }}</span>
                    </div>
                </div>
            </div>

            <div class="qr-section">
                <div class="qr-container">
                    <img *ngIf="qrCodeUrl" [src]="qrCodeUrl" alt="QR Code" class="qr-code">
                    <div class="qr-placeholder" *ngIf="!qrCodeUrl">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5">
                            <rect x="3" y="3" width="5" height="5"></rect>
                            <rect x="16" y="3" width="5" height="5"></rect>
                            <rect x="3" y="16" width="5" height="5"></rect>
                            <path d="M16 16h2v2h-2z"></path>
                            <path d="M18 18h2v2h-2z"></path>
                            <path d="M16 18h2v2h-2z"></path>
                        </svg>
                    </div>
                </div>
                <p class="qr-description">Scan for verification</p>
            </div>

            <div class="legal-notice">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <p class="legal-text">This card remains property of the organization. Unauthorized use, duplication, or
                    transfer is prohibited and may result in legal action.</p>
            </div>
        </div>
    </div>

    <div class="action-panel">
        <div class="card-preview-controls">
            <button class="preview-btn front-btn active" data-side="front" (click)="showFrontCard()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
                </svg>
                Front
            </button>
            <button class="preview-btn back-btn" data-side="back" (click)="showBackCard()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                    <path d="M21 15l-5-5L5 21"></path>
                </svg>
                Back
            </button>
        </div>

        <div class="action-buttons">
            <button class="action-btn btn-secondary" (click)="print()">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6,9 6,2 18,2 18,9"></polyline>
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                    <rect x="6" y="14" width="12" height="8"></rect>
                </svg>
                Print Card
            </button>
            <button class="action-btn btn-primary" (click)="download()">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7,10 12,15 17,10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Download
            </button>
        </div>
    </div>
</div>